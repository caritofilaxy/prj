---
indicator: submit
action: "/user/register"
id: "register_form"
elements:
    - name: username
      type: Text
      label: "Имя пользователя:"
      filters:
          - LowerCase
          - TrimEdges
      constraints:
          - type: Required
            message: "* Ой!"
          - type: Callback
            callback: "SS::Form::Constraint::username_length"
          - type: Regex
            regex: '\A[A-Za-z0-9_-]*\z'
            message: "Допускаются только латинские буквы, цифры, '_' и '-'!"
      validator: 'SS::UserDoesntExist'
    - name: password
      type: Password
      label: "Пароль:"
      constraints:
          - type: Required
            message: "* Ой!"
          - type: Callback
            callback: "SS::Form::Constraint::password_length"
          - type: Equal
            others: repeat_password
            message: "Пароли не совпадают!"
          - type: ASCII
            message: "Допускаются только ASCII-символы!"
    - name: repeat_password
      type: Password
      label: "Ещё раз:"
      constraints:
          - type: Required
            message: "* Ой!"
    - name: email
      type: Text
      label: "Email:"
      filters:
          - LowerCase
          - TrimEdges
      constraints:
          - type: Required
            message: "* Ой!"
          - type: Email
            message: "Email не соответствует формату!"
          - type: MaxLength
            max: 50
            message: "Слишком длинный Email!"
    - type: Submit
      name: submit
      value: "Создать аккаунт"
